## これはなに
- [フロントエンド開発のためのセキュリティ入門 知らなかったでは済まされない脆弱性対策の必須知識](https://amzn.asia/d/0V6Rqrc)を読み直していくので内容のまとめ
- 読んだら追記していく
- 第2章はローカル環境の構築がメインなのでスキップ

## 第1章 Webセキュリティ概要
### なぜセキュリティ対策を行うのか
- ユーザーが安心してアプリケーションを使えるように、開発者はセキュリティを担保しなければいけない
- セキュリティを脅かす攻撃のうち、その多くは基本的な対策をすれば防ぐことができる
- Webアプリケーションのフロントエンドにおけるセキュリティに焦点を当てて解説してくれる
- 不正アクセスや情報の盗み取りの原因となるセキュリティ上のバグ、脆弱性は、ソフトウェアの設計不備やプログラムの記述ミスといった原因から発生する
	- 仕様策定や設計段階でセキュリティに対する考慮不足があると、想定外の入力や操作が行われたときにWebアプリケーションへの攻撃が成功するバグのあるコードが実装されてしまう可能性がある
- ソフトウェアの特性には、「機能要件」と「非機能要件」というものがある
- システムが必ず満たすべき機能に関する要件を機能要件という
	- チケット販売サイトにおける「チケットの種類や枚数を指定できること」や「クレジット決済またはコンビニ支払いが選択できること」
- システムを利用するうえで主目的にならない要件のことを非機能要件という
	- 「3秒以内にサーバーから応答が返ってくること」や「アクセスが集中してもサーバーがダウンしないこと」など
	- この本のテーマであるセキュリティも非機能要件の1つ
- ユーザーにとってセキュリティは担保されていて当然であり、情報漏洩などが発生した場合はユーザーからの信頼を大きく失うことになってしまう
	- ビジネスにも大きく影響する

### Webの脆弱性の種類と傾向
- 情報処理推進機構（IPA）が[安全なウェブサイトの作り方](https://www.ipa.go.jp/security/vuln/websecurity/about.html)を公開している
	- 脆弱性関連情報の届出をもとに作成されており、届出の件数が多かった脆弱性や、発見された際の影響が大きい脆弱性の仕組みや対策を解説している
	- 最新の第7版では、次の脆弱性の解説が掲載されている
		- SQLインジェクション
		- OSコマンド・インジェクション
		- パス名パラメータの未チェック/ディレクトリ・トラバーサル
		- セッション管理の不備
		- クロスサイト・スクリプティング
		- CSRF（クロスサイト・リクエスト・フォージェリ）
		- HTTPヘッダ・インジェクション
		- メールヘッダ・インジェクション
		- クリックジャッキング
		- バッファオーバーフロー
		- アクセス制御や認可制御の欠落
- Open Web Application Security Project（OWASP）が公開している[OWASP Top 10](https://owasp.org/Top10/ja/)も有名
	- Webアプリケーションの最も重大なリスクのトップ10が記されている
	- 数年ごとに更新されていて、現時点では2021年版が最新版
	- 2021年版のトップ10は次の表の通り

| 順位  | リスク                  | 概要                                             |
| --- | -------------------- | ---------------------------------------------- |
| A01 | アクセス制御の不備            | 他のユーザーのデータや権限の変更                               |
| A02 | 暗号化の失敗               | 機密データの漏洩やシステム侵害に関連する暗号技術にまつわる失敗                |
| A03 | インジェクション             | クロスサイトスクリプティング、SQLインジェクションなど                   |
| A04 | 安全が確認されない不安な設計       | 設計上の欠陥に関するリスク                                  |
| A05 | セキュリティの設定ミス          | 安全でない設定による問題<br>アプリケーションの90%には何らかの設定ミスが見られる    |
| A06 | 脆弱で古くなったコンポーネント      | 脆弱性のあるライブラリなどによる攻撃や悪影響                         |
| A07 | 識別と認証の失敗             | ユーザーの認証情報の漏洩                                   |
| A08 | ソフトウェアとデータの整合性の不具合   | CI/CDパイプラインにおいて整合性を検証せずにソフトウェアや重要なデータの更新を進める問題 |
| A09 | セキュリティログとモニタリングの失敗   | モニタリングの不備による攻撃検知漏れ                             |
| A10 | サーバーサイド・リクエスト・フォージェリ | サーバーに対してバグを悪用して不正リクエストを送る攻撃手法                  |

### 企業が取り組む脆弱性対策
- セキュリティに関心の高い企業の中には、セキュリティを専門にするチームを作っている企業もある
	- ここでいうセキュリティチームとは、社内の業務端末のウイルス対策などの組織のセキュリティに対する活動を行うチームではなく、Webアプリケーションやモバイルアプリケーションなどの社外に公開される製品に対するセキュリティ活動を行うチームを指す
- アプリケーションそのものを開発するエンジニアの部隊とは別に設置され、アプリケーションの脆弱性診断や発生した脆弱性の管理を担当する
	- たとえば、アプリケーションのリリース前の脆弱性診断や、脆弱性診断ツールの導入など、製品のセキュリティ面における品質向上を目指した活動を行う
- Google, Meta, LINE, サイボウズといった企業が導入している、製品の脆弱性を報告してくれた外部の人に対して企業から報奨金を支払うという脆弱性報奨金制度というものもある
	- HackerOneやBugBounty.jpといった脆弱性報奨金を取り扱うプラットフォームもある
- 発見された脆弱性の情報を公開したり、JPCERT/CCなどへの情報公開の届出をしたりといった活動をすることで、ユーザーに脆弱性の情報を知らせることも重要な活動の1つ
- もし社内でそういったセキュリティ専門チームを作る余裕がない場合は、外部の脆弱性診断サービスの導入や、セキュリティ専門会社への診断依頼を検討するのもあり

### セキュリティに関する情報収集
- Webの仕様やブラウザの機能の変化に対応しつつ安全なWebアプリケーションを作っていくためには、セキュリティに関する情報のキャッチアップを定期的に行う必要がある
- インターネット上には間違った情報もあるため、どういった情報源を信用するかの見極めが大切
	- ブログやニュースサイトはセキュリティに関する情報を噛み砕いてわかりやすく説明してくれるものも多いので非常に役立つが、正しい情報かどうかの精査も必要
	- 脆弱性情報やWebの仕様など、出自となった一次ソースも確認するようにするべき
- 脆弱性関連情報は更新頻度が高いので、すべて読むのは大変
	- 気になった見出しの内容や、外のニュースサイトやブログなどの情報の裏付けとして読むのがおすすめ

### 筆者がよく見るセキュリティ情報源
#### [Chromium Blog](https://blog.chromium.org/)
- Google ChromeやMicrosoft Edgeなど多くのブラウザのベースとなっているChromiumの公式ブログ
- Chromiumベースのブラウザの情報はここから得ることができる

#### [web.dev](https://web.dev/?hl=ja)
- Google Chromeに限らずモダンなWebの機能に関するガイダンスや統計などを解説する記事が掲載されている

#### [Chrome Platform Status](https://chromestatus.com/roadmap)
- Google Chromeのリリースごとの変更を一覧で掲載している

#### [Google DevelopersのWebのページ](https://developer.chrome.com/?hl=ja)
- GoogleによるWeb APIなどの解説記事
- Chromeの新機能に関する解説もよく掲載されている

#### [Mozilla Firefox Release Notes](https://www.mozilla.org/en-US/firefox/127.0/releasenotes/)
- Firefox公式ページのリリース情報
- 機能追加などはここで確認できる

#### [MDN Firefox developer release notes](https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases)
- 開発者向けのFirefoxリリース情報が掲載されている
- 機能やAPIの追加、バグの修正なども掲載されている

#### [Mozilla Hacks](https://hacks.mozilla.org/)
- 開発者やデザイナー向けのブログ記事が掲載されている
- セキュリティに関する情報も多く掲載されている

#### [Blog | Webkit](https://webkit.org/blog/)
- Safariのリリース内容や新機能に関する詳細な解説の記事が掲載されている

#### [WebKit Feature Status](https://webkit.org/status/)
- SafariのレンダリングエンジンであるWebKitへのWeb標準仕様の実装状況が掲載されている

#### [Microsoft Edge Blog](https://blogs.windows.com/msedgedev/)
- Microsoft Edgeに関するブログ

#### [Microsoft Edgeの安定版のリリースノート](https://learn.microsoft.com/en-us/deployedge/microsoft-edge-relnote-stable-channel)
- Microsoft Edgeの安定版のリリース内容が掲載されている

#### [Microsoft Edge Security Updates](https://learn.microsoft.com/en-us/DeployEdge/microsoft-edge-relnotes-security)
- Microsoft Edgeのリリース内容の中から、セキュリティに関する内容が掲載されている

#### [Hacker News](https://news.ycombinator.com/)
- ベンチャーキャピタルであるYコンビネータが運営するソーシャルニュースサイト

#### [The Hacker News](https://thehackernews.com/)
- サイバーセキュリティ全般を扱うニュースサイト
- Webに関する脆弱性も投稿される

#### [Snykのブログ](https://snyk.io/jp/blog/)
- オープンソースのセキュリティチェックと修復を自動で行うサービスを開発しているSnykによるブログ
- オープンソースのライブラリに関するセキュリティの記事が多い

#### [ITmedia NEWSのセキュリティ記事](https://www.itmedia.co.jp/news/subtop/security/)
- IT関連のニュースポータルサイト
- カテゴリからセキュリティだけに絞って閲覧できる

#### [@ITのセキュリティ記事](https://atmarkit.itmedia.co.jp/ait/subtop/security/)
- IT関連のニュースポータルサイト
- ITmediaと運営会社が同じだが、@ITはエンジニア向け専門サイトになっている
- セキュリティだけに絞って記事を閲覧できる

#### [SSTエンジニアブログ](https://securesky-plus.com/engineerblog/)
- 株式会社セキュアスカイ・テクノロジーの技術者によるブログ
- Webアプリケーションに関するセキュリティの記事やイベントレポートなどが掲載されている

#### [LAC WATCH](https://www.lac.co.jp/lacwatch/)
- 株式会社ラックのオウンドメディア
- 脆弱性情報やセキュリティ対策やセキュリティ診断レポートなどがわかりやすく解説されている

#### [Flatt Security Blog](https://blog.flatt.tech/)
- 株式会社Flatt Securityによるブログ
- Webアプリケーションに関する脆弱性の解説と対策など、Webエンジニア向けの記事が多く掲載されている

#### [yamory Blog](https://yamory.io/blog)
- OSS脆弱性をスキャンするサービスyamoryを運営するビジョナル・インキュベーション株式会社によるブログ
- 脆弱性情報などの記事が掲載されている

#### [CVE - Common Vulnerabilities and Exposures](https://cve.mitre.org/)
- 脆弱性管理データベースまたは辞書
- アメリカの非営利団体MITREが個々の脆弱性に対してIDを採番して管理している
- 多くの脆弱性検査ツールや脆弱性情報提供サービスが利用している
- 最新情報はTwitterやRSSで確認できる

#### [Hacktivity](https://hackerone.com/hacktivity/overview?queryString=disclosed%3Atrue&sortField=latest_disclosable_activity_at&sortDirection=DESC&pageIndex=0)
- 脆弱性報奨プラットフォームのHackerOneに報告された脆弱性の最新情報が一覧で確認できる

#### [Vulnerability DB | Snyk](https://security.snyk.io/)
- ライブラリに関する脆弱性を一覧で確認できる
- 様々な言語をサポートしている

#### [Japan Vulnerability Notes（JVN）](https://jvn.jp/)
- JVNは、日本で使用されているソフトウェアなどの脆弱性関連情報とその対策を提供している
- JVN iPediaは国内外問わず日々更新される脆弱性対策情報のデータベース

## 第3章 HTTP
### HTTP基礎
- ブラウザはHTTPという通信規約にしたがってサーバーと通信して、リソースの取得や作成、更新、削除を行う
- ブラウザはインターネット上からWebアプリケーションのサーバーを特定するために「URL」と「DNS」という仕組みを使う
- DNSやHTTPは「TCP/IP」という仕組みを使っている

#### URL
- インターネット上のリソースの場所を示すための文字列
- Uniform Resource Locatorの略
- ブラウザはURLからリソースを配信するサーバーを特定して通信を行う